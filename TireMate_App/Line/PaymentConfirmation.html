<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ชำระเงิน - Tire Shop</title>
    
    <!-- Google Fonts: Kanit -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600&display=swap" rel="stylesheet">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Kanit', 'sans-serif'],
                    },
                    colors: {
                        primary: '#2563EB', // Blue 600
                        secondary: '#475569', // Slate 600
                        line: '#06C755', // LINE Green
                        scb: '#4E2A84', // SCB Purple
                        kbank: '#138f2d', // KBank Green
                    }
                }
            }
        }
    </script>
    
    <!-- Icons (Lucide) -->
    <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body class="bg-gray-50 text-slate-800 antialiased font-sans pb-28">

    <!-- 1. Header with Countdown -->
    <div class="bg-slate-900 text-white sticky top-0 z-50 px-4 py-3 shadow-md">
        <div class="max-w-md mx-auto flex items-center justify-between">
            <button class="text-slate-300 hover:text-white">
                <i data-lucide="arrow-left" class="w-6 h-6"></i>
            </button>
            <div class="text-center">
                <h1 class="font-semibold text-lg">ชำระเงิน</h1>
                <p class="text-xs text-slate-400 flex items-center justify-center gap-1">
                    <i data-lucide="clock" class="w-3 h-3"></i> เหลือเวลา 14:59 นาที
                </p>
            </div>
            <div class="w-6"></div> <!-- Spacer for center alignment -->
        </div>
    </div>

    <!-- Main Content -->
    <div class="max-w-md mx-auto p-4 space-y-4">

        <!-- 2. Order Summary (Compact) -->
        <div class="bg-white rounded-xl p-4 shadow-sm border border-gray-100 flex justify-between items-center">
            <div>
                <p class="text-xs text-slate-500">หมายเลขคำสั่งซื้อ</p>
                <p class="font-medium text-slate-800">#ORD-251214-001</p>
            </div>
            <div class="text-right">
                <p class="text-xs text-slate-500">ยอดชำระสุทธิ</p>
                <p class="text-xl font-bold text-primary">฿18,000</p>
            </div>
        </div>

        <!-- 3. Payment Methods Tabs -->
        <div class="grid grid-cols-2 gap-2 bg-gray-200 p-1 rounded-lg">
            <button onclick="switchTab('qr')" id="tab-qr" class="py-2 rounded-md text-sm font-medium transition-all bg-white text-primary shadow-sm flex items-center justify-center gap-2">
                <i data-lucide="qr-code" class="w-4 h-4"></i> สแกนจ่าย
            </button>
            <button onclick="switchTab('bank')" id="tab-bank" class="py-2 rounded-md text-sm font-medium transition-all text-slate-500 hover:text-slate-700 flex items-center justify-center gap-2">
                <i data-lucide="landmark" class="w-4 h-4"></i> เลขบัญชี
            </button>
        </div>

        <!-- 4. Payment Content Area -->
        
        <!-- A. QR Code Section (Default) -->
        <div id="content-qr" class="bg-white rounded-xl p-6 shadow-sm border border-gray-100 flex flex-col items-center space-y-4">
            <div class="bg-blue-900 w-full p-3 rounded-t-lg flex items-center justify-center gap-2">
                <img src="https://upload.wikimedia.org/wikipedia/commons/c/c5/PromptPay-logo.png" alt="PromptPay" class="h-6 bg-white rounded p-0.5">
                <span class="text-white font-medium">Thai QR Payment</span>
            </div>
            <div class="p-2 border-2 border-dashed border-slate-300 rounded-lg">
                <!-- Mock QR Code -->
                <img src="https://upload.wikimedia.org/wikipedia/commons/d/d0/QR_code_for_mobile_English_Wikipedia.svg" alt="QR Code" class="w-48 h-48 opacity-80">
            </div>
            <p class="text-sm text-slate-500 text-center">
                บันทึกภาพหน้าจอ หรือสแกนเพื่อจ่าย<br>
                <span class="text-primary font-bold">บริษัท ไทร์ช็อป จำกัด</span>
            </p>
            <button class="text-primary text-sm font-medium flex items-center gap-1 hover:underline">
                <i data-lucide="download" class="w-4 h-4"></i> บันทึก QR Code
            </button>
        </div>

        <!-- B. Bank Transfer Section (Hidden) -->
        <div id="content-bank" class="hidden space-y-3">
            <!-- KBANK -->
            <div class="bg-white rounded-xl p-4 shadow-sm border border-gray-100 flex items-center gap-4 relative overflow-hidden group">
                <div class="w-1 bg-kbank absolute left-0 top-0 bottom-0"></div>
                <div class="w-12 h-12 bg-gray-50 rounded-full flex items-center justify-center border border-gray-100">
                    <!-- Placeholder Icon for Bank -->
                    <i data-lucide="landmark" class="w-6 h-6 text-kbank"></i>
                </div>
                <div class="flex-1">
                    <p class="text-xs text-slate-500">ธนาคารกสิกรไทย</p>
                    <p class="font-bold text-slate-800 text-lg tracking-wide">012-3-45678-9</p>
                    <p class="text-sm text-slate-700">บจก. ไทร์ช็อป (Tire Shop Co.,Ltd)</p>
                </div>
                <button onclick="copyToClipboard('0123456789')" class="p-2 bg-gray-50 rounded-lg hover:bg-green-50 text-slate-400 hover:text-kbank transition-colors">
                    <i data-lucide="copy" class="w-5 h-5"></i>
                </button>
            </div>
            
            <!-- SCB -->
            <div class="bg-white rounded-xl p-4 shadow-sm border border-gray-100 flex items-center gap-4 relative overflow-hidden">
                <div class="w-1 bg-scb absolute left-0 top-0 bottom-0"></div>
                <div class="w-12 h-12 bg-gray-50 rounded-full flex items-center justify-center border border-gray-100">
                    <i data-lucide="landmark" class="w-6 h-6 text-scb"></i>
                </div>
                <div class="flex-1">
                    <p class="text-xs text-slate-500">ธนาคารไทยพาณิชย์</p>
                    <p class="font-bold text-slate-800 text-lg tracking-wide">987-6-54321-0</p>
                    <p class="text-sm text-slate-700">บจก. ไทร์ช็อป (Tire Shop Co.,Ltd)</p>
                </div>
                <button onclick="copyToClipboard('9876543210')" class="p-2 bg-gray-50 rounded-lg hover:bg-purple-50 text-slate-400 hover:text-scb transition-colors">
                    <i data-lucide="copy" class="w-5 h-5"></i>
                </button>
            </div>
        </div>

        <!-- 5. Upload Slip Section -->
        <div class="bg-white rounded-xl p-5 shadow-sm border border-gray-100 space-y-3">
            <h2 class="font-medium text-slate-800 flex items-center gap-2">
                <i data-lucide="image-plus" class="w-4 h-4 text-primary"></i> แนบหลักฐานการโอน
            </h2>
            
            <label class="block w-full cursor-pointer group">
                <input type="file" class="hidden" accept="image/*" onchange="previewImage(this)">
                <div id="upload-placeholder" class="border-2 border-dashed border-slate-300 rounded-xl p-6 flex flex-col items-center justify-center gap-2 bg-slate-50 group-hover:bg-blue-50 group-hover:border-primary transition-all">
                    <div class="w-10 h-10 rounded-full bg-white shadow-sm flex items-center justify-center text-slate-400 group-hover:text-primary">
                        <i data-lucide="upload-cloud" class="w-5 h-5"></i>
                    </div>
                    <p class="text-sm text-slate-500 font-medium">แตะเพื่ออัปโหลดสลิป</p>
                    <p class="text-xs text-slate-400">รองรับไฟล์ JPG, PNG</p>
                </div>
                <!-- Image Preview Container -->
                <div id="preview-container" class="hidden relative rounded-xl overflow-hidden border border-slate-200">
                    <img id="preview-img" src="" class="w-full h-auto object-cover max-h-64">
                    <button onclick="removeImage(event)" class="absolute top-2 right-2 bg-black/50 hover:bg-black/70 text-white p-1 rounded-full backdrop-blur-sm">
                        <i data-lucide="x" class="w-4 h-4"></i>
                    </button>
                </div>
            </label>
        </div>

    </div>

    <!-- 6. Bottom Sticky Action -->
    <div class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] z-40">
        <div class="max-w-md mx-auto">
            <button class="w-full bg-line hover:bg-green-600 text-white font-bold py-3.5 rounded-xl shadow-lg shadow-green-500/30 active:scale-95 transition-all flex justify-center items-center gap-2">
                <i data-lucide="check-circle" class="w-5 h-5"></i> แจ้งชำระเงิน
            </button>
            <p class="text-[10px] text-center text-slate-400 mt-2">
                เมื่อกดยืนยัน ถือว่าท่านยอมรับเงื่อนไขการให้บริการ
            </p>
        </div>
        <!-- Safe Area -->
        <div class="h-1 w-full bg-white"></div>
    </div>

    <!-- Toast Notification (Hidden by default) -->
    <div id="toast" class="fixed top-20 left-1/2 transform -translate-x-1/2 bg-slate-800 text-white text-sm py-2 px-4 rounded-full shadow-lg opacity-0 transition-opacity pointer-events-none z-50 flex items-center gap-2">
        <i data-lucide="check" class="w-4 h-4 text-green-400"></i> คัดลอกเลขบัญชีแล้ว
    </div>

    <script>
        lucide.createIcons();

        // 1. Tab Switching Logic
        function switchTab(tabName) {
            const qrContent = document.getElementById('content-qr');
            const bankContent = document.getElementById('content-bank');
            const qrTab = document.getElementById('tab-qr');
            const bankTab = document.getElementById('tab-bank');

            if(tabName === 'qr') {
                qrContent.classList.remove('hidden');
                bankContent.classList.add('hidden');
                
                // Style Active Tab
                qrTab.classList.add('bg-white', 'text-primary', 'shadow-sm');
                qrTab.classList.remove('text-slate-500');
                
                // Style Inactive Tab
                bankTab.classList.remove('bg-white', 'text-primary', 'shadow-sm');
                bankTab.classList.add('text-slate-500');
            } else {
                qrContent.classList.add('hidden');
                bankContent.classList.remove('hidden');

                // Style Active Tab
                bankTab.classList.add('bg-white', 'text-primary', 'shadow-sm');
                bankTab.classList.remove('text-slate-500');
                
                // Style Inactive Tab
                qrTab.classList.remove('bg-white', 'text-primary', 'shadow-sm');
                qrTab.classList.add('text-slate-500');
            }
        }

        // 2. Copy to Clipboard
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                showToast();
            });
        }

        function showToast() {
            const toast = document.getElementById('toast');
            toast.classList.remove('opacity-0');
            setTimeout(() => {
                toast.classList.add('opacity-0');
            }, 2000);
        }

        // 3. Image Upload Preview
        function previewImage(input) {
            const file = input.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('preview-img').src = e.target.result;
                    document.getElementById('preview-container').classList.remove('hidden');
                    document.getElementById('upload-placeholder').classList.add('hidden');
                }
                reader.readAsDataURL(file);
            }
        }

        function removeImage(event) {
            event.preventDefault(); // Prevent opening file dialog
            event.stopPropagation();
            document.getElementById('preview-img').src = '';
            document.getElementById('preview-container').classList.add('hidden');
            document.getElementById('upload-placeholder').classList.remove('hidden');
            // Reset input value
            document.querySelector('input[type="file"]').value = '';
        }
    </script>
</body>
</html>